<!DOCTYPE html>
<html lang=en>
<head>
	<meta name="author" content="Eberhard GrÃ¤ther">
	<meta name="description" content="3D Minesweeper in WebGL">

	<title>Mine3D</title>

	<link rel="stylesheet" media="all" href="styles/style.css"/>
</head>
<body>

	<div id="container"></div>

	<div class="hud">

		<div class="element button clear" id="menuButton"> menu </div>

		<div class="element button" id="newButton"> new </div>

		<div class="element clear" id="menu">

			<div class="element button" id="aboutButton"> about </div>
			<div class="element button" id="settingsButton"> settings </div>
			<div class="element button" id="statsButton"> stats </div>
			<div class="element button" id="instructionsButton"> instructions </div>

		</div>

		<div class="element clear" id="settings">

			<div class="label heading"> Settings </div>

			<div class="label left"> mode: </div>
			<div class="element button" id="classic"> classic </div>
			<div class="element button" id="sweep"> sweep </div>

			<div class="label left"> level: </div>
			<div class="element button" id="easy"> easy </div>
			<div class="element button" id="medium"> medium </div>
			<div class="element button" id="hard"> hard </div>

			<div class="label left"> animations: </div>
			<div class="element button" id="animations"> </div>

			<div class="label left"> center field in sweep mode: </div>
			<div class="element button" id="recenter"> </div>

			<div class="element button" id="apply"> apply </div>

		</div>

		<div class="element clear" id="stats">

			<div class="label heading"> Stats </div>

			<table class="clear">
				<tr>
					<td> times </td>
					<td> classic </td>
					<td> sweep </td>
				</tr>
				<tr>
					<td> easy </td>
					<td id="classiceasy"> - </td>
					<td id="sweepeasy"> - </td>
				</tr>
				<tr>
					<td> medium </td>
					<td id="classicmedium"> - </td>
					<td id="sweepmedium"> - </td>
				</tr>
				<tr>
					<td> hard </td>
					<td id="classichard"> - </td>
					<td id="sweephard"> - </td>
				</tr>
			</table>

			<div class="label"> games won: <span id="gamesWon"> 0 </span> </div>
			<div class="label"> games played: <span id="gamesPlayed"> 0 </span> </div>
			<div class="label"> time played: <span id="timePlayed"> 0 </span> </div>

			<div class="element button clear" id="clearButton"> delete </div>
			<div id="clearPrompt">
				<div class="label left" style="clear:none"> sure? </div>
				<div class="element button" id="clearNowButton"> yes </div>
			</div>

		</div>

		<div class="element clear" id="about">

			<div class="label heading">
				<span class="highlight">Mine3D</span>
				- Minesweeper in 3D WebGL
			</div>

			<div class="label">
				developed by <a href="http://egraether.com/">egraether</a><br />
				with help from 
				<a href="http://hempt.at/">mph</a>, 
				<a href="http://www.findologic.com/">felix hummel</a>, 
				<a href="http://stravid.com/">stravid</a>, 
				<a href="http://cwinkler.multimediatechnology.at/">cwinkler</a> <br />
				and <a href="http://www.walmink.com/">wouter walmink</a>
			</div>

			<div class="label">
				used libraries: 
				<a href="http://code.google.com/p/glmatrix/">glMatrix.js</a>, 
				<a href="https://github.com/sole/tween.js/">tween.js</a>, 
				<a href="http://jquery.com/">jQuery</a>
			</div>

			<div class="label">
				source available on <a href="https://github.com/egraether/mine3D">github</a>
			</div>

		</div>

		<div class="element clear" id="instructions">

			<div class="label heading"> Instructions </div>

			<div class="label"> 
				- some cubes are mines <br />
				- opening a mine means game over <br />
				- numbers show how many mines are around <br />
				- open all empty cubes to win the game <br />
				- in sweep mode you can delete mines
			</div>

			<div class="label heading"> Controls </div>

			<table class="clear">
				<tr>
					<td> mouse <br /> button </td>
					<td> click </td>
					<td> drag </td>
				</tr>
				<tr>
					<td> left </td>
					<td> open cube </td>
					<td> rotate grid </td>
				</tr>
				<tr>
					<td> right </td>
					<td> flag cube / <br /> delete mine </td>
					<td> move grid </td>
				</tr>
			</table>

			<div class="label"> 
				keyboard: <br />
				- F/D or J/K alternatively to mouse buttons <br />
				- SPACE to start new game
			</div>

			<div class="label"> SCROLL to zoom </div>

		</div>

		<div class="element clear" id="winner"> you win! </div>

		<div class="element clear" id="loser"> you lose! </div>

		<div class="element button" id="restartButton"> restart </div>

		<div class="element clear" id="error">
			WebGL does not work in your browser. Find out why: 
			<a href="http://get.webgl.org">http://get.webgl.org</a>
		</div>

	</div>

	<div class="element" id="timeDisplay"> time: <span id="time"> 0 </span> </div>

	<div class="element clear" id="mineDisplay"> mines: <span id="mines"> 10 </span> </div>

	<div id="welcomeWrapper">

		<div id="welcomeOverlay"></div>

		<div class="element" id="welcome">

			<div class="left" id="intro">

				<div class="label">
					<span class="title"> Mine3D </span>
					<span class="subtitle"> open beta </span>
				</div>

				<div class="label">
					Can you play Minesweeper in 3D? Click here to give it a try:
				</div>

				<div class="element button" id="playClassicButton"> classic mode </div>

				<div class="label">
					Or go for a new game mode and delete mines instead of marking them:
				</div>

				<div class="element button" id="playSweepButton"> sweep mode </div>

			</div>

			<div class="left" id="info">

				<div class="label heading"> Infos </div>

				<div class="label">
					release contains all main features, but no true graphic design
				</div>

				<div class="label">
					renders only on interaction, therefore consumes little CPU
				</div>

				<div class="label">
					look up ways for interaction in
					'menu -> instructions'
				</div>

				<div class="label">
					if rendering lags: <br />
					- decrease size of window <br />
					- turn off animations
				</div>

			</div>

			<div class="clear"></div>

		</div>

	</div>

<script id="vertex-shader" type="x-shader/x-vertex" charset="utf-8">

	uniform mat4 uMVMatrix;
	uniform mat4 uPMatrix;

	attribute vec3 aPosition;
	attribute vec4 aColor;
	attribute vec2 aTextureCoord;

	varying vec4 vColor;
	varying vec2 vTextureCoord;

	void main( void ) {

		gl_Position = uPMatrix * uMVMatrix * vec4( aPosition, 1.0 );

		vColor = aColor;
		vTextureCoord = aTextureCoord;

	}

</script>

<script id="fragment-shader" type="x-shader/x-fragment" charset="utf-8">

	#ifdef GL_ES
		precision highp float;
	#endif

	uniform sampler2D uTexture;

	varying vec4 vColor;
	varying vec2 vTextureCoord;

	void main(void) {

		vec4 texColor = texture2D( uTexture, vTextureCoord );

		gl_FragColor = mix( vColor, texColor, texColor.a );

	}

</script>

<script type="text/javascript" charset="utf-8" src="lib/requestAnimationFrame.js"></script>
<script type="text/javascript" charset="utf-8" src="lib/glMatrix.js"></script>
<script type="text/javascript" charset="utf-8" src="lib/Tween.js"></script>
<script type="text/javascript" charset="utf-8" src="lib/jquery-1.6.4.js"></script>

<script type="text/javascript" charset="utf-8" src="src/utilities.js"></script>
<script type="text/javascript" charset="utf-8" src="src/WebGLUtilities.js"></script>

<script type="text/javascript" charset="utf-8" src="src/Cube.js"></script>
<script type="text/javascript" charset="utf-8" src="src/Face.js"></script>
<script type="text/javascript" charset="utf-8" src="src/Element.js"></script>

<script type="text/javascript" charset="utf-8" src="src/BSPNode.js"></script>
<script type="text/javascript" charset="utf-8" src="src/BSPTree.js"></script>

<script type="text/javascript" charset="utf-8" src="src/Settings.js"></script>
<script type="text/javascript" charset="utf-8" src="src/Stats.js"></script>
<script type="text/javascript" charset="utf-8" src="src/Menu.js"></script>

<script type="text/javascript" charset="utf-8" src="src/Grid.js"></script>
<script type="text/javascript" charset="utf-8" src="src/EventHandler.js"></script>
<script type="text/javascript" charset="utf-8" src="src/Camera.js"></script>
<script type="text/javascript" charset="utf-8" src="src/Game.js"></script>
<script type="text/javascript" charset="utf-8" src="src/main.js"></script>

</body>
</html>